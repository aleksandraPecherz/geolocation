(this.webpackJsonpgeolocation=this.webpackJsonpgeolocation||[]).push([[0],{2:function(e,t,n){},26:function(e,t,n){},49:function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),o=n(20),i=n.n(o),a=(n(26),n(8)),s=n(3),l=(n(2),n(11)),j=n.n(l),u=n(0);var d=function(e){var t=e.location;return null===t.city?Object(u.jsxs)("h3",{children:["No information about ",Object(u.jsxs)("i",{children:['"',t.ip,'"']}),". Your IP/URL not exist in database  "]}):Object(u.jsx)("h3",{children:"no information"})};j.a.accessToken="pk.eyJ1IjoiYWxleGFuZHJhcGVibiIsImEiOiJja3BzZ2czbm4wMjl0MzJxd3YwbjdrNDQxIn0.zJZcb2aTj3BlX8xoZ7-VxQ";var h=function(e){var t=e.location,n=e.currentClass,r=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e;if(0!==Object.keys(t).length&&null!==(e=t.length?t[t.length-1]:t).city){var n=new j.a.Map({container:r.current,style:"mapbox://styles/alexandrapebn/ckpswwpoa0rkc18oy6k9q2fek",center:[e.longitude,e.latitude],zoom:12.5});return function(){return n.remove()}}}),[t]),Object(u.jsx)("div",{className:n,children:0===Object.keys(t).length||t.length&&null==t[t.length-1].city?Object(u.jsx)(d,{location:t.length?t[t.length-1]:[]}):Object(u.jsx)("div",{className:"map",ref:r})})},b=n(21);var O=function(e){var t,n=e.location,c=e.currentClass;return t=n.length?n[n.length-1]:n,0===Object.keys(t).length||null===t.city?Object(u.jsx)("div",{className:c,children:Object(u.jsx)(d,{location:t})}):Object(u.jsxs)("div",{className:c,children:[Object(u.jsx)("p",{style:{fontSize:"60px"},children:Object(b.a)("".concat(t.countryCode))}),Object(u.jsxs)("h3",{children:[t.isUserInfo?"Your IP: ":"Searched IP: "," ",t.ip]}),Object(u.jsxs)("h4",{children:["city: ",t.city]}),Object(u.jsxs)("p",{children:["(",Object(u.jsxs)("em",{children:[Math.round(100*t.longitude)/100," E, ",Math.round(100*t.latitude)/100," N"]}),")"]}),Object(u.jsxs)("p",{children:["region: ",t.region]}),Object(u.jsxs)("p",{children:["country: ",t.country]}),Object(u.jsxs)("p",{children:["continent: ",t.continent]})]})};var x=function(e){var t=e.isCorrect,n=[{text:"write IP address or URL",isCorrect:null,color:"black"},{text:"Correct",isCorrect:!0,color:"green"},{text:"Incorrect! Plese write ONLY IP address or URL",isCorrect:!1,color:"red"}].filter((function(e){return e.isCorrect===t}))[0];return Object(u.jsx)("p",{style:{color:n.color},children:n.text})};var f=function(e){var t=e.getGeolocationDetails,r=Object(c.useState)(""),o=Object(s.a)(r,2),i=o[0],a=o[1],l=Object(c.useState)(null),j=Object(s.a)(l,2),d=j[0],h=j[1],b=function(){if(function(){if(n(45).isUri(i)){var e=new URL(i).host;return""!==e&&(t(e,i),!0)}}()||n(47)(i)&&(t(i),1))return!0};return Object(u.jsxs)("div",{className:"search-engine",children:[Object(u.jsxs)("div",{className:"search",children:[Object(u.jsx)("input",{className:"searchInput",type:"text",value:i,onChange:function(e){return a(e.target.value)}}),Object(u.jsx)("button",{onClick:function(){b()?(h(!0),a("")):h(!1)},children:" SEARCH"})]}),Object(u.jsx)(x,{isCorrect:d})]})};var p=function(e){var t=e.element,n=e.key,c=e.getGeolocationDetails;return Object(u.jsxs)("li",{className:"list-element",children:[Object(u.jsxs)("p",{className:"main-information",children:[" ",Object(u.jsx)("em",{children:""!==t.URL?"Searched URL: ".concat(t.URL):"Searched IP: ".concat(t.ip)})]}),Object(u.jsxs)("p",{className:"location-information",children:[t.city," , ",t.region," , ",t.country]}),Object(u.jsx)("button",{className:"go-to-button",onClick:function(){c(t.ip)},children:"GO TO"})]},n)};var m=function(e){var t=e.location,n=e.getGeolocationDetails,c=Object(a.a)(new Set(t.map((function(e){return e.ip})))).map((function(e){return t.find((function(t){return t.ip===e}))})).map((function(e){return Object(u.jsx)(p,{element:e,getGeolocationDetails:n},e.id)}));return Object(u.jsxs)("div",{className:"searched-list",children:[Object(u.jsx)("h2",{children:"Last Searched"}),c.length?Object(u.jsx)("ul",{children:c}):Object(u.jsx)("h3",{children:"no data to display"})]})};var g=function(){var e=Object(c.useState)([]),t=Object(s.a)(e,2),n=t[0],r=t[1],o=Object(c.useState)([]),i=Object(s.a)(o,2),l=i[0],j=i[1];Object(c.useEffect)((function(){fetch("https://api.ipify.org?format=jsonp?callback=?",{method:"GET",headers:{}}).then((function(e){return e.text()})).then((function(e){d(e,"",!0)}))}),[]);var d=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];fetch("http://api.ipstack.com/".concat(e,"?access_key=931c6e8be10d8d3dce7d5ced82e8c7cb")).then((function(e){return e.json()})).then((function(e){console.log(e);var o={ip:e.ip,city:e.city,country:e.country_name,countryCode:e.country_code,countryCapital:e.location.capital,continent:e.continent_name,region:e.region_name,isUserInfo:c,latitude:e.latitude,longitude:e.longitude,URL:t};c?j(o):r([].concat(Object(a.a)(n),[o]))}))};return Object(u.jsxs)("div",{className:"app-container",children:[Object(u.jsx)(m,{location:n,getGeolocationDetails:d}),Object(u.jsx)(h,{location:l,currentClass:"user-map"}),Object(u.jsx)(O,{location:l,currentClass:"user-info"}),Object(u.jsx)(f,{getGeolocationDetails:d}),Object(u.jsx)(h,{location:n,currentClass:"searched-map"}),Object(u.jsx)(O,{location:n,currentClass:"searched-info"})]})};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(g,{})}),document.getElementById("root"))}},[[49,1,2]]]);
//# sourceMappingURL=main.4f1ca7d0.chunk.js.map